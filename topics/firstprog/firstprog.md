---
layout: topic
title: Знакомство с Visual Studio. Первая программа на C++
permalink: topics/firstprog/
---
Как уже говорилось в прошлом уроке, чтобы было удобнее писать код нужна среда разработки. По нашему мнению, среда разработки Visual Studio - одна из самых лучших. Ссылку на скачивание вы можете найти в соответствующем разделе. 

Теперь поговорим о запуске программы. Если  студия  запускается  в  первый  раз,  она спросит, на каком языке пишет и какими инструментами пользуется программист. Нам нужно выбрать тот пункт, где есть C++. Если студия уже запускалась, то перед вами появится главное окно. Теперь о том, как создавать программу. Когда мы работали в Pascal.ABC, единственный  файл, с которым мы работали, был файл с расширением pas. В нем была вся наша программа.  Те, кто уже успел поработать с Delphi, видел, что создание программы в Delphi – это работа  над  проектами.  Проекты  содержат  в  себе  файлы  с  расширением  pas  (элементы  нашей  программы) и некоторые другие, предназначенные для Delphi.

В VS всё ещё более серьёзно. Здесь есть такое понятие, как **Решение**. **Решение – это  набор  проектов.**  А  проект  здесь  –  то  же  самое,  что  и  проект  в  Delphi  –  наша  будущая  программа.  Сделано  это  всё  так,  потому  что  VS  –  инструмент  для  профессиональной  разработки  приложений.  А  современные  программные  продукты  создаются  целыми  командами. Более того, все приложения сегодня имеют очень длинный код, который хранить  в 1 файле (даже уже и в 1 проекте) – самоубийство. Поэтому и была создана такая структура  организации программного кода. И, хотя, на первый взгляд кажется, что это сложно, на самом  деле существенно облегчает создание программ.  В  VS  можно  создавать  решение,  а  в  них  сколько‐то  проектов,  а  можно  создать  отдельный проект. Я рекомендую создать решение с именем, например, MyTasks, и включать  туда проекты – т.о. все ваши программы будут в одном месте, вы их не потеряете и будете  иметь удобный доступ к ним.  Чтобы создать новую программу в VS, нужно зайти в меню **Файл - Создать - Проект.**

![Создание программ](2019-05-18.png)

Появится  вот  такое  окошко.  Чтобы  создать  решение,  установите  галочку  **«Создать  каталог  для  решения»**.  Что  бы  создать  отдельный  проект,  соответственно,  галочку  нужно  снять.  Далее  перейдите  в  левой  части  окошка  к  пункту  **Visual  C++**.  В  средней  части  окна  выберите **«Пустой проект»**. Теперь, если вы создаёте решение, сначала введите в поле **«Имя  решения»** название своего решения, например, MyTasks, затем имя проекта в поле **«Имя»**,  например,  Task1.  Далее  нажмите  кнопку  **«Обзор»**  и  выберите  место,  где  будут  храниться  файлы. Теперь можно нажать кнопку **«ОК»**. В течение некоторого времени студия подготовит  все необходимые файлы и появится следующее окно.

![Студия](2019-05-18 (4).png)

Должно  появиться  окошко  **«Обозреватель  решений»**,  если  оно  не  появилось,  перейдите в пункт меню **«Вид»** и щёлкните по соответствующему пункту.  Теперь  нам  нужно  добавить  файл  исходного  кода  в  наш  проект.  Щёлкните  правой  кнопкой  по  своему  проекту  в  **Обозревателе  решений**,  выберите  пункт  **добавить**,  а  затем  **Создать элемент**. 

![Описание работы студии](2019-05-18 (2).png)

Появится  окно  создания  файла.  Выберите  **Файл  C++  (.cpp)**,  а  в  поле  имя  введите, 
например, **main.cpp**. Расположение менять  не нужно – по умолчание файл будет сохранён 
там, где у вас хранятся файлы проекта. 

![Создание проекта](2019-05-18 (3).png)

Нажмите на кнопку **Добавить**. Сразу же откроется редактор текста программы. Теперь  уже можно писать код. вателе  решений,  выберите  пункт  добавить,  а  затем  Создать элемент. 

![Создание проекта](2019-05-18 (4).png)

**Теперь, когда мы познакомились со средой разработки, можно приступать к изучению языка программирования C++.**

Рассмотрим самую простую программу:

{% highlight cpp %}
#include <iostream>
using namespace std; 
int main() { 
cout<<"Hello, C++!";
system("pause");
return 0; 
} 
{% endhighlight %}

Рассмотрим программу по частям
{% highlight cpp %}
#include <iostream>
{% endhighlight %}
Этот строка подключает заголовочный файл для организации ввода - вывода. В заголовочном файле хранятся классы, функции,переменные для конкретного случая. Например, строка
 {% highlight cpp %}
#include <cmath>
{% endhighlight %}
Подключает библиотеку математических функций.
 
Идем далее:
{% highlight cpp %}
using namespace std;
{% endhighlight %}
 using namespace std (использование стандартного пространства имен).  В  C++  пространство  имён  –  такая  хитрая  штука,  которая  помогает группировать  код.  Просто  функции  и  переменные  в  разных  библиотеках  могут  иметь одинаковые  имена.  Но  программисты,  которые  пишут  библиотеки,  дают  специальные названия блокам кода, где они описывают свои функции. Так не возникает путаниц. Чтобы C++ точно  знал, какие функции мы вызываем в  нашей  программе, мы ему  говорим, что  будем  использовать только функции из пространства std. Обратите внимание на точку с запятой (**;**). Это символ, которым завершается текущая операция, и начинается переход к следующей (Кто уже работал в Паскале, тот,скорей всего,уже в курсе). Идем далее

{% highlight cpp %}
int main()
{
// ваш чудесный код
system("pause");
return 0;
}
{% endhighlight %}

Здесь у на есть несколько важных аспектов. Все программы на C++ состоят из объявления переменных, классов, структур и т.п. и 
функций для их обработки. Как правило, таких функций несколько (а в больших проектах их вообще очень много). Поэтому, когда Windows запускает вашу программу, она должна знать, с  какой  функции  нужно  начинать  выполнение  программы.  Какая‐то  функция  должна  быть 
главной.  Договорились  такой  функции  давать  имя  **main**. В C++  каждая  функция  должна  что‐то  возвращать,  при  этом  тип  результата  должен  быть конкретным (подробнее о функциях мы поговорим в дальнейшем). Функция main – не исключение. Она должна иметь целочисленный тип – в c++ это  **int**.  Дело  в  том,  что  Windows  должна  знать,  успешно  ли  отработала  программа.  Она 
определяет  это  по  числу,  которое  возвращает  main  (напомню,  что  функция  возвращает результат туда, откуда её вызвали, а функцию main вызывает Windows, поэтому результат она ей и возвращает). Если main вернула результат, равный 0, то всё хорошо, ошибок не было. 
Если  же  результат  отличен  от  0,  то  произошли  ошибки  и  Windows  говорит  об  этом пользователю.

Первая  строка  –  начало  описания  функции.  В  C++  всегда  вначале пишется тип, а потом имя переменной или функции. В данном случае **main()** – это  функция (на это указывают круглые скобочки после имени – если функция зависит от каких‐то 
параметров, то их указывают так же, как и в паскале – в скобочках). Фигурные скобки – это то же самое, что и **begin** и **end** в паскале – начало / конец блока. Отдельно нужно сказать про **system("pause")**. Эта команда предотвращает закрытие программы сразу после её завершения. Когда изучим отладку, будем использовать более элегантный способ под названием "breakpoint". Теперь поговорим про **return 0**. Здесь мы возвращаем 0, при выходе из функции – говорим, что завершились успешно. И, как всегда, в конце команды точка с запятой. 

Комментарии в C++ обозначаются так: // комментарий

Теперь про вывод. Существует 2 способа – стандартный, унаследованные из языка Си, и потоковый. Стандартный работает быстрее, но пользоваться им не совсем удобно. Потоковый работает медленнее, чем стандартный, но заметно это лишь на ОЧЕНЬ БОЛЬШОМ наборе данных. 

Потоковый вывод - своего рода конвейер, у которого программа - начало, а монитор - конец. Поток вывода - **cout**. Оператор отправки в поток - **<<**. Текст, который мы хотим вывести,заключаем в кавычки: "Hello, C++!". Вывод готов. Осталось нажать клавишу **F5**, и наблюдать прекрасный результат.

![Запуск программы](2019-05-18 (5).png)
